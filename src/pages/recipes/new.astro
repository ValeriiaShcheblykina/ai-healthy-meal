---
import Layout from '@/layouts/Layout.astro';
import { getAuthenticatedUser } from '@/lib/auth/get-authenticated-user';
import { RecipeCreateView } from '@/components/recipes/RecipeCreateView';

// Ensure dynamic rendering
export const prerender = false;

// Check authentication
const user = await getAuthenticatedUser(Astro);

if (!user) {
  return Astro.redirect('/');
}
---

<Layout title="Create Recipe">
  <div class="container mx-auto max-w-3xl px-4 py-8">
    <RecipeCreateView client:load />
  </div>
</Layout>
