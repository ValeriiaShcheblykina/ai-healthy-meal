---
import Layout from '@/layouts/Layout.astro';
import { getAuthenticatedUser } from '@/lib/auth/get-authenticated-user';
import { RecipesList } from '@/components/recipes/RecipesList';

export const prerender = false;

const user = getAuthenticatedUser(Astro);

if (!user) {
  return Astro.redirect('/sign-in');
}
---

<Layout title="My Recipes">
  <div class="container mx-auto px-4 py-6 sm:px-6 sm:py-8 lg:px-8 lg:py-12">
    <div class="mb-8 lg:mb-12">
      <h1 class="mb-2 text-3xl font-bold lg:text-4xl">My Recipes</h1>
      <p class="text-muted-foreground">
        Manage and organize your healthy meal recipes
      </p>
    </div>

    <!-- React island for the recipes list - load when visible -->
    <RecipesList client:visible />
  </div>
</Layout>
